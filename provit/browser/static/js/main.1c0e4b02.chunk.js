(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(440)},220:function(e,t,a){},261:function(e,t,a){},427:function(e,t,a){},440:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),i=a.n(o),l=(a(220),a(11)),c=a(9),s=a(13),u=a(12),m=a(14),p=a(28),d=a(16),h=a(43),E=a(193),g={provitDir:"",loading:!1,error:null,changed:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONFIG_BEGIN":return Object(d.a)({},e,{loading:!0,error:null});case"FETCH_CONFIG_SUCCESS":return Object(d.a)({},e,{loading:!1,provitDir:t.payload.config.provit_dir});case"FETCH_CONFIG_ERROR":return Object(d.a)({},e,{loading:!1,provitDir:"",error:t.payload.error});case"UPDATE_PROVIT_DIR":return Object(d.a)({},e,{changed:!0,provitDir:t.payload.provitDir});default:return e}},f={loading:!1,error:null,directories:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DIRECTORIES_BEGIN":return Object(d.a)({},e,{loading:!0,error:null,directories:[]});case"FETCH_DIRECTORIES_SUCCESS":return Object(d.a)({},e,{loading:!1,error:null,directories:t.payload.directories});case"FETCH_DIRECTORIES_ERROR":return Object(d.a)({},e,{loading:!1,error:t.payload.error,directories:[]});case"REMOVE_DIRECTORIES_BEGIN":return Object(d.a)({},e,{loading:!0});case"REMOVE_DIRECTORIES_SUCCESS":return Object(d.a)({},e,{loading:!1,directories:t.payload.directories});case"REMOVE_DIRECTORIES_ERROR":return Object(d.a)({},e,{loading:!1,error:t.payload.error,directories:[]});case"ADD_DIRECTORY_BEGIN":return Object(d.a)({},e,{loading:!0});case"ADD_DIRECTORY_SUCCESS":return Object(d.a)({},e,{loading:!1,directories:t.payload.directories});case"ADD_DIRECTORY_ERROR":return Object(d.a)({},e,{loading:!1,error:t.payload.error,directories:[]});default:return e}},b={currentDirectory:null,fileList:[],loading:!1,error:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FILE_LIST_BEGIN":return Object(d.a)({},e,{loading:!0,error:null});case"FETCH_FILE_LIST_SUCCESS":return Object(d.a)({},e,{loading:!1,fileList:t.payload.fileList});case"FETCH_FILE_LIST_ERROR":return Object(d.a)({},e,{loading:!1,error:t.payload.error,fileList:[]});case"CHANGE_CURRENT_DIRECTORY":return Object(d.a)({},e,{currentDirectory:t.payload.directory});case"UPDATE_FILE_LIST_BEGIN":return Object(d.a)({},e,{loading:!0,error:null});case"UPDATE_FILE_LIST_SUCCESS":return Object(d.a)({},e,{loading:!1,fileList:t.payload.fileList});default:return e}},C={persons:[],software:[],organizations:[],loading:!1,error:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_AGENTS_BEGIN":return Object(d.a)({},e,{loading:!0,error:null});case"FETCH_AGENTS_SUCCESS":return Object(d.a)({},e,{loading:!1,error:null,persons:t.payload.agents.Person,software:t.payload.agents.SoftwareAgent,organizations:t.payload.agents.Organization});case"FETCH_AGENTS_ERROR":return Object(d.a)({},e,{loading:!1,error:t.payload.error});default:return e}},k={prov:{},agents:[],hasProv:!1,currentFile:"",currentProvEvent:"",loading:!1,error:null,updateNetwork:!1,rebuildNetwork:!1,rebuildTimeline:!1,currentAgent:"",showAgentDialog:!1,showAddProvForm:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROV_BEGIN":return Object(d.a)({},e,{prov:{},agent:[],currentFile:"",currentProvEvent:"",currentAgent:"",showAgentDialog:!1,loading:!0,error:null});case"FETCH_PROV_SUCCESS":return console.log(t.payload),Object(d.a)({},e,{hasProv:t.payload.data.hasProv,prov:t.payload.data.prov,agents:t.payload.data.agents,currentProvEvent:t.payload.data.prov.uri,loading:!1,updateNetwork:!0});case"FETCH_PROV_ERROR":return Object(d.a)({},e,{loading:!1,error:t.payload.error});case"ADD_PROV_BEGIN":return{showAddProvForm:!1,prov:{},agent:[],currentFile:"",currentProvEvent:"",currentAgent:"",showAgentDialog:!1,loading:!0,error:null};case"ADD_PROV_SUCCESS":return Object(d.a)({},e,{loading:!1,hasProv:t.payload.data.hasProv,prov:t.payload.data.prov,currentFile:t.payload.data.prov.location,agents:t.payload.data.agents,currentProvEvent:t.payload.data.prov.uri,updateNetwork:!0,rebuildNetwork:!0});case"REMOVE_PROV_BEGIN":return{showAddProvForm:!1,prov:{},agent:[],currentProvEvent:"",currentAgent:"",showAgentDialog:!1,loading:!0,error:null};case"REMOVE_PROV_SUCCESS":return console.log(t.payload),Object(d.a)({},e,{loading:!1,hasProv:t.payload.data.hasProv,prov:t.payload.data.prov,agents:t.payload.data.agents,currentProvEvent:"",updateNetwork:!0,rebuildNetwork:!0});case"CHANGE_CURRENT_FILE":return Object(d.a)({},e,{currentFile:t.payload.currentFile});case"CHANGE_PROV_EVENT":return Object(d.a)({},e,{currentProvEvent:t.payload.currentProvEvent});case"NETWORK_UPDATED":return Object(d.a)({},e,{updateNetwork:!1,rebuildNetwork:!1});case"SET_CURRENT_AGENT":return Object(d.a)({},e,{currentAgent:t.payload.currentAgent,showAgentDialog:!0});case"HIDE_AGENT_DIALOG":return Object(d.a)({},e,{showAgentDialog:!1});case"TOGGLE_ADD_PROV_FORM":return Object(d.a)({},e,{showAddProvForm:!e.showAddProvForm});case"RESET_FILE_STATE":return k;default:return e}},S=a(29),N={activitySlug:"",comment:"",agents:[""],startedAt:"",endedAt:"",sources:[],primarySources:[]},w={directory:"",comment:""},_=Object(h.combineReducers)(Object(d.a)({home:y,config:v,directory:O,agents:j,file:D},Object(S.createForms)({addProjectDirectory:w,addProvEvent:N}))),P=Object(h.createStore)(_,Object(h.applyMiddleware)(E.a)),T=(a(261),a(446)),R=a(447),A=a(445),x=a(5),I=a.n(x),B=function(){return{type:"FETCH_CONFIG_BEGIN"}},F=function(e){return{type:"FETCH_CONFIG_SUCCESS",payload:{config:e}}},L=function(e){return{type:"FETCH_CONFIG_ERROR",payload:{error:e}}};var H=a(39),V=a.n(H),G=a(4),U=a.n(G),z=a(19),M=a.n(z),W=a(36),J=a.n(W),Y=a(3),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(){return function(e){a.props.updateProvitDir(e.target.value)}},a.renderSaveButton=function(e){return a.props.changed?r.a.createElement(M.a,{variant:"contained"},"Save changes"):r.a.createElement(M.a,{disabled:!0,variant:"contained"},"Save changes")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchConfig()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(U.a,{container:!0,spacing:24},r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(J.a,{className:e.control},r.a.createElement(V.a,{id:"provit-home-directory",label:"Provit Home Directory",style:{margin:8},placeholder:"Placeholder",fullWidth:!0,value:this.props.provitDir,margin:"normal",InputLabelProps:{shrink:!0},onChange:this.handleChange()}),this.renderSaveButton(this.props.changed)))))}}]),t}(n.Component),$=Object(Y.withStyles)(function(e){return{control:{padding:4*e.spacing.unit,marginTop:8*e.spacing.unit}}})(K),q={fetchConfig:function(){return function(e){return console.log("fetch config"),e(B()),fetch("http://localhost:5555/config").then(function(e){return e.json()}).then(function(t){return console.log(t),e(F(t.config)),t.config}).catch(function(t){return e(L(t))})}},updateProvitDir:function(e){return{type:"UPDATE_PROVIT_DIR",payload:{provitDir:e}}}},Q=Object(p.connect)(function(e){return{provitDir:e.config.provitDir,changed:e.config.changed}},q)($),X=function(){return{type:"FETCH_DIRECTORIES_BEGIN"}},Z=function(e){return{type:"FETCH_DIRECTORIES_SUCCESS",payload:{directories:e}}},ee=function(e){return{type:"FETCH_DIRECTORIES_ERROR",payload:{error:e}}},te=function(){return{type:"REMOVE_DIRECTORY_BEGIN"}},ae=function(e){return{type:"REMOVE_DIRECTORIES_SUCCESS",payload:{directories:e}}},ne=function(e){return{type:"REMOVE_DIRECTORY_ERROR",payload:{error:e}}},re=function(){return{type:"ADD_DIRECTORY_BEGIN"}},oe=function(e){return{type:"ADD_DIRECTORY_SUCCESS",payload:{directories:e}}},ie=function(e){return{type:"ADD_DIRECTORY_ERROR",payload:{error:e}}};var le=a(67),ce=a.n(le),se=a(194),ue=a.n(se),me=a(27),pe=a.n(me),de=a(53),he=a.n(de),Ee=a(31),ge=a.n(Ee),ve=Object(Y.withStyles)(function(e){return{transparentChip:{backgroundColor:"rgba(0,0,0,0.0);",cursor:"pointer"}}})(function(e){return r.a.createElement(ge.a,{label:e.label,avatar:e.avatar,className:e.classes.transparentChip})}),fe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"removeClick",value:function(e){this.props.removeDirectory(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.directories,n=t.classes;return console.log(a),r.a.createElement(U.a,{container:!0,className:n.directoryList},a.map(function(t,a){return r.a.createElement(U.a,{item:!0,xs:12,key:a},r.a.createElement(J.a,{className:n.listItem},r.a.createElement(U.a,{container:!0,className:n.directoryTitle},r.a.createElement(U.a,{item:!0,xs:11,className:n.textAlign},r.a.createElement("div",{className:n.tp,onClick:function(){e.props.history.push({pathname:"/directory/",search:t.directory})}},r.a.createElement(ve,{avatar:r.a.createElement(pe.a,null,r.a.createElement(he.a,null)),className:n.button,label:t.directory})),r.a.createElement("div",null,r.a.createElement(I.a,{variant:"caption",className:n.projectComment},t.comment))),r.a.createElement(U.a,{item:!0,xs:1,className:n.alignRight},r.a.createElement(ce.a,{"aria-label":"Delete",onClick:function(){return e.removeClick(t)}},r.a.createElement(ue.a,{size:"small"}))))))}))}}]),t}(n.Component),ye=Object(Y.withStyles)(function(e){return{directoryList:{padding:4*e.spacing.unit,marginTop:8*e.spacing.unit},listItem:{padding:2*e.spacing.unit,marginTop:e.spacing.unit},directoryTitle:{textAlign:"left",verticalAlign:"middle"},alignRight:{textAlign:"right"},button:{margin:e.spacing.unit},tp:{},projectComment:{marginLeft:5*e.spacing.unit,marginTop:.5*e.spacing.unit}}})(fe),be=a(40),Oe=a.n(be),Ce=a(197),je=a.n(Ce),ke=a(50),De=a.n(ke),Se=a(41),Ne=a.n(Se),we=a(214),_e=a(54),Pe=a(55),Te=a.n(Pe),Re=a(49),Ae=a.n(Re),xe=a(101),Ie=a.n(xe),Be=a(196),Fe=a.n(Be),Le=a(195),He=a.n(Le),Ve=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderButton",value:function(){var e=this.props,t=e.currentFile,a=e.path,n=e.changeValue,o=e.name,i=e.classes,l=e.selectable;return t===a?r.a.createElement(M.a,{color:"primary",size:"small",onClick:function(){l&&n(a,!1)}},r.a.createElement(he.a,{size:"small",className:i.icon}),o):r.a.createElement(M.a,{size:"small",onClick:function(){l&&n(a,!1)}},r.a.createElement(he.a,{size:"small",className:i.icon}),o)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.path,n=e.fetchDir;return r.a.createElement("div",{className:t.leftAlign},this.renderButton(),r.a.createElement(M.a,{size:"small",onClick:function(){n(a)}},r.a.createElement(He.a,{size:"small"})))}}]),t}(n.Component),Ge=Object(Y.withStyles)(function(e){return{leftAlign:{textAlign:"left",width:"100%"},fullWidth:{width:"100%"},icon:{marginRight:e.spacing.unit}}})(Ve),Ue=a(132),ze=a.n(Ue),Me=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderButton",value:function(){var e=this.props,t=e.currentFile,a=e.path,n=e.changeValue,o=e.name,i=e.classes;return t===a?r.a.createElement(M.a,{color:"primary",size:"small",onClick:function(){n(a,!1)}},r.a.createElement(ze.a,{size:"small",className:i.icon}),o):r.a.createElement(M.a,{size:"small",onClick:function(){n(a,!1)}},r.a.createElement(ze.a,{size:"small",className:i.icon}),o)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.leftAlign},this.renderButton())}}]),t}(n.Component),We=Object(Y.withStyles)(function(e){return{leftAlign:{textAlign:"left",width:"100%"},fullWidth:{width:"100%"},icon:{marginRight:e.spacing.unit}}})(Me),Je=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e));var n=e.withFiles;return n=!!n,a.state={showDialog:!1,currentDir:"",withFiles:n,files:[],dirs:[],value:""},a.changeValue=a.changeValue.bind(Object(_e.a)(Object(_e.a)(a))),a.fetchDir=a.fetchDir.bind(Object(_e.a)(Object(_e.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.directory;this.setState({currentDir:e}),this.fetchDir(e)}},{key:"fetchDir",value:function(e){var t=this;fetch("http://localhost:5555/filebrowser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({directory:e,withFiles:this.state.withFiles,withHidden:!1})}).then(function(e){return e.json()}).then(function(a){return console.log(a),t.setState(Object(d.a)({},t.state,{dirs:a.dirs,files:a.files,currentDir:e})),a.prov}).catch(function(e){return console.log(e)})}},{key:"openDialog",value:function(){this.setState({showDialog:!0})}},{key:"closeDialog",value:function(){this.setState({showDialog:!1})}},{key:"changeValue",value:function(e,t){var a=this.props,n=a.model,r=a.dispatch,o=!t;this.setState({value:e,showDialog:o}),r(S.actions.change(n,e))}},{key:"render",value:function(){var e=this,t=this.props,a=t.directory,n=t.classes,o=t.helptext,i=this.state,l=i.showDialog,c=i.dirs,s=i.files,u=i.currentDir,m=i.value,p=u.split(Te.a.sep);p.splice(-1,1);var d=Te.a.resolve.apply(Te.a,Object(we.a)(p)),h=this.state.value.split(Te.a.sep).pop(),E=!this.state.withFiles;return r.a.createElement("div",null,r.a.createElement(Oe.a,{fullWidth:!0,maxWidth:"sm",open:l,scroll:"paper",className:n.filebrowserDialog,classes:{paper:n.dialogPaper},onClose:function(){return e.changeValue("",!0)}},r.a.createElement(Ie.a,null,r.a.createElement("div",null,r.a.createElement(I.a,{variant:"subheading"}," ",u))),r.a.createElement(Ae.a,null,r.a.createElement(M.a,{size:"small",onClick:function(){return e.fetchDir(d)}},r.a.createElement(Fe.a,{size:"small"})),c.map(function(t,a){return r.a.createElement(Ge,{key:"directory"+a,name:t.dirname,path:t.dirpath,selectable:E,changeValue:e.changeValue,fetchDir:e.fetchDir,currentFile:m})}),s.map(function(t,a){return r.a.createElement(We,{key:"file"+a,name:t.filename,path:t.filepath,changeValue:e.changeValue,currentFile:m})})),r.a.createElement(Ne.a,null,r.a.createElement(M.a,{color:"primary",variant:"contained",onClick:function(){return e.closeDialog()}},"Select"),r.a.createElement(M.a,{color:"secondary",variant:"contained",onClick:function(){return e.changeValue("",!0)}},"Close"))),r.a.createElement(ce.a,{variant:"contained",onClick:function(){return e.openDialog(a)}},r.a.createElement(he.a,{size:"small"})),r.a.createElement(M.a,{onClick:function(){return e.openDialog(a)}},h||o))}}]),t}(n.Component),Ye=Object(Y.withStyles)(function(e){return{filebrowserDialog:{padding:2*e.spacing.unit},dialogPaper:{minHeight:"70vh",maxHeight:"70vh"},helptext:{color:"#999",text:"0.8em"}}})(Je),Ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={open:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this.props.handleSubmit;console.log(e),t(e),this.closeDialog()}},{key:"toggleDialog",value:function(){this.setState({open:!this.state.open})}},{key:"closeDialog",value:function(){(0,this.props.dispatch)(S.actions.reset("addProjectDirectory")),this.toggleDialog()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.dispatch;return r.a.createElement("div",null,r.a.createElement(Oe.a,{open:this.state.open,onClose:function(){return e.closeDialog()}},r.a.createElement(S.Form,{model:"addProjectDirectory",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(U.a,{container:!0,className:a.formContainer},r.a.createElement(U.a,{item:!0,xs:12,className:a.formItem},r.a.createElement(Ye,{id:"addProjectDirectory.directory",model:"addProjectDirectory.directory",helptext:"Select directory",withFiles:!1,directory:"",dispatch:n})),r.a.createElement(U.a,{item:!0,xs:12,className:a.formItem},r.a.createElement(S.Control,{className:a.inputField,component:V.a,model:"addProjectDirectory.comment",id:"addProjectDirectory.comment",label:"Comment",multiline:!0,rowsMax:"4",variant:"outlined"}))),r.a.createElement(Ne.a,null,r.a.createElement(M.a,{type:"submit",color:"primary",variant:"contained"},"Add")))),r.a.createElement(je.a,{color:"primary","aria-label":"Add",className:a.fab,onClick:function(){return e.toggleDialog()}},r.a.createElement(De.a,null)))}}]),t}(n.Component),$e=Object(Y.withStyles)(function(e){return{formContainer:{padding:2*e.spacing.unit},formItem:{padding:2*e.spacing.unit},inputField:{width:"100%"}}})(Ke),qe=Object(p.connect)(function(e){return{addProjectDirectory:e.addProjectDirectory}})($e),Qe={fetchDirectories:function(){return function(e){return console.log("fetch directories"),e(X()),fetch("http://localhost:5555/directories").then(function(e){return e.json()}).then(function(t){return e(Z(t.directories)),t.directories}).catch(function(t){return e(ee(t))})}},removeDirectory:function(e){return function(t){return console.log("remove directory "+e),t(te()),fetch("http://localhost:5555/directories/remove",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({directory:e})}).then(function(e){return e.json()}).then(function(e){return t(ae(e.directories)),e.directories}).catch(function(e){return t(ne(e))})}},addDirectory:function(e){return function(t){return console.log("add directory "+e),t(re()),fetch("http://localhost:5555/directories",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({directory:e})}).then(function(e){return e.json()}).then(function(e){return t(oe(e.directories)),e.directories}).catch(function(e){return t(ie(e))})}}},Xe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchDirectories()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ye,{directories:this.props.directories,removeDirectory:this.props.removeDirectory,history:this.props.history}),r.a.createElement(qe,{handleSubmit:this.props.addDirectory}))}}]),t}(n.Component),Ze=Object(p.connect)(function(e){return{directories:e.home.directories,loading:e.home.loading,error:e.home.error}},Qe)(Xe),et=function(){return{type:"FETCH_FILE_LIST_BEGIN"}},tt=function(e){return{type:"FETCH_FILE_LIST_SUCCESS",payload:{fileList:e}}},at=function(e){return{type:"FETCH_FILE_LIST_ERROR",payload:{error:e}}},nt=function(){return{type:"UPDATE_FILE_LIST_BEGIN"}},rt=function(e){return{type:"UPDATE_FILE_LIST_SUCCESS",payload:{fileList:e}}},ot=function(e){return{type:"UPDATE_FILE_LIST_ERROR",payload:{error:e}}};var it=a(202),lt=a.n(it),ct=a(204),st=a.n(ct),ut=a(44),mt=a.n(ut),pt=a(203),dt=a.n(pt),ht=a(133),Et=a.n(ht),gt=a(198),vt=a.n(gt),ft=a(199),yt=a.n(ft),bt=a(201),Ot=a.n(bt),Ct=a(200),jt=a.n(Ct),kt=a(205),Dt=a.n(kt),St=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"linkToFile",value:function(e){this.props.history.push({pathname:"/file/",search:e.filepath})}},{key:"renderTableRow",value:function(e,t){var a=this,n=this.props.classes,o=n.rowBackgroundProv,i="";return e.prov?e.prov.last_location!==e.filepath&&(i="Changed file location",o=n.rowBackgroundDiffLocation):o=this.props.classes.rowBackgroundNoProv,r.a.createElement(Et.a,{hover:!0,className:o,key:"filetable"+t,onClick:function(){return a.linkToFile(e)}},r.a.createElement(mt.a,null,e.filename),r.a.createElement(mt.a,null," ",e.prov?e.prov.last_activity:"No provenance information available!"," "),r.a.createElement(mt.a,null," ",e.prov?e.prov.timestamp:""," "),r.a.createElement(mt.a,null,""!==i?r.a.createElement(jt.a,{title:i},r.a.createElement(Ot.a,null)):""))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.fileList,o=t.directory,i=t.updateFileList,l=!1,c=!0,s=!1,u=void 0;try{for(var m,p=n[Symbol.iterator]();!(c=(m=p.next()).done);c=!0){var d=m.value;if(d.prov&&d.prov.last_location!==d.filepath){l=!0;break}}}catch(h){s=!0,u=h}finally{try{c||null==p.return||p.return()}finally{if(s)throw u}}return r.a.createElement(U.a,{item:!0,xs:12,className:a.fileTable},r.a.createElement(I.a,{variant:"h6",className:a.heading},this.props.directory),r.a.createElement(J.a,{className:a.fileTablePaper},r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,r.a.createElement(Et.a,null,r.a.createElement(mt.a,null,"File"),r.a.createElement(mt.a,null,"Last Provenance Activity"),r.a.createElement(mt.a,null,"Last Provenance Timestamp"),r.a.createElement(mt.a,null))),r.a.createElement(st.a,null,this.props.fileList.map(function(t,a){return e.renderTableRow(t,a)}))),l?r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:12,className:a.updateButton},r.a.createElement(ge.a,{size:"small",onClick:function(){i(o)},color:"primary",avatar:r.a.createElement(pe.a,null,r.a.createElement(Dt.a,null)),label:"Update provenance file locations"}))):""))}}]),t}(n.Component),Nt=Object(Y.withStyles)(function(e){return{fileTable:{padding:4*e.spacing.unit,marginTop:3*e.spacing.unit},fileTablePaper:{padding:2*e.spacing.unit},rowBackgroundNoProv:{backgroundColor:vt.a[50]},rowBackgroundDiffLocation:{background:yt.a[50]},rowBackgroundProv:{backgroundColor:null},heading:{padding:3*e.spacing.unit},updateButton:{textAlign:"right",paddingTop:2*e.spacing.unit}}})(St),wt={fetchFileList:function(e){return function(t){return console.log("fetch filelist"),t(et()),fetch("http://localhost:5555/directory",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({directory:e})}).then(function(e){return e.json()}).then(function(e){return console.log(e),t(tt(e.files)),e.files}).catch(function(e){return t(at(e))})}},changeCurrentDirectory:function(e){return{type:"CHANGE_CURRENT_DIRECTORY",payload:{directory:e}}},updateFileList:function(e){return function(t){return console.log("update filelist"),t(nt()),fetch("http://localhost:5555/directory/update",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({directory:e})}).then(function(e){return e.json()}).then(function(e){return console.log(e),t(rt(e.files)),e.files}).catch(function(e){return t(ot(e))})}}},_t=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.search.substr(1);console.log(e),this.props.fetchFileList(e),this.props.changeCurrentDirectory(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.location.search.substr(1);e!==this.props.currentDirectory&&(this.props.fetchFileList(e),this.props.changeCurrentDirectory(e))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Nt,{fileList:this.props.fileList,history:this.props.history,directory:this.props.currentDirectory,updateFileList:this.props.updateFileList}))}}]),t}(n.Component),Pt=Object(p.connect)(function(e){return{fileList:e.directory.fileList,currentDirectory:e.directory.currentDirectory}},wt)(_t),Tt=function(){return{type:"FETCH_AGENTS_BEGIN"}},Rt=function(e){return{type:"FETCH_AGENTS_SUCCESS",payload:{agents:e}}},At=function(e){return{type:"FETCH_AGENTS_ERROR",payload:{error:e}}};function xt(){return function(e){return console.log("fetch agents"),e(Tt()),fetch("http://localhost:5555/agents").then(function(e){return e.json()}).then(function(t){return console.log(t),e(Rt(t.agents)),t.agents}).catch(function(t){return e(At(t))})}}var It=a(68),Bt=a.n(It),Ft=a(72),Lt=a.n(Ft),Ht=a(69),Vt=a.n(Ht),Gt=a(70),Ut=a.n(Gt),zt=a(71),Mt=a.n(zt),Wt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderPerson",value:function(e,t){var a=this.props.classes;return r.a.createElement("div",{key:"person"+t},r.a.createElement(Bt.a,{className:a.agentHeader},r.a.createElement(Vt.a,{expandIcon:r.a.createElement(Ut.a,null)},r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,className:a.detailsBoxHeader},r.a.createElement(ge.a,{avatar:r.a.createElement(pe.a,null,r.a.createElement(Mt.a,null)),label:e.slug})),r.a.createElement(U.a,{item:!0,className:a.detailsBoxHeader},r.a.createElement(I.a,{className:a.nameHeader},e.name[0])))),r.a.createElement(Lt.a,null,r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"URI")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{gutterBottom:!0},e.uri)),r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Name")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{component:"span",gutterBottom:!0},e.name.map(function(e,t){return r.a.createElement("div",{key:"pname"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Institution")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{component:"span",gutterBottom:!0},e.institution.map(function(e,t){return r.a.createElement("div",{key:"pinstitution"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Email")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{component:"span",gutterBottom:!0},e.email.map(function(e,t){return r.a.createElement("div",{key:"pemail"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Homepage")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{component:"span",gutterBottom:!0},e.homepage.map(function(e,t){return r.a.createElement("div",{key:"phomepage"+t},r.a.createElement("a",{href:e,target:"_new",rel:"noopener noreferrer"},e),r.a.createElement("br",null))})))))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.persons,n=t.classes;return r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:12,className:n.content},"Persons",r.a.createElement("div",{className:n.paperLayout},a.map(function(t,a){return e.renderPerson(t,a)}))))}}]),t}(n.Component),Jt=Object(Y.withStyles)(function(e){return{content:{padding:4*e.spacing.unit,marginTop:8*e.spacing.unit},paperLayout:{padding:2*e.spacing.unit},detailsBox:{textAlign:"left"},detailsBoxHeader:{textAlign:"left",marginRight:2*e.spacing.unit},agentHeader:{padding:e.spacing.unit},nameHeader:{lineHeight:2.3}}})(Wt),Yt=a(73),Kt=a.n(Yt),$t=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderSoftware",value:function(e,t){var a=this.props.classes;return r.a.createElement("div",{key:"sw"+t},r.a.createElement(Bt.a,null,r.a.createElement(Vt.a,{expandIcon:r.a.createElement(Ut.a,null)},r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,className:a.detailsBoxHeader},r.a.createElement(ge.a,{avatar:r.a.createElement(pe.a,null,r.a.createElement(Kt.a,null)),label:e.slug})),r.a.createElement(U.a,{item:!0,className:a.detailsBoxHeader},r.a.createElement(I.a,{className:a.nameHeader},e.name[0]," - ",e.version[0])))),r.a.createElement(Lt.a,null,r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"URI")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{gutterBottom:!0},e.uri)),r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Name")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{component:"span",gutterBottom:!0},e.name.map(function(e,t){return r.a.createElement("div",{key:"swname"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Version")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{component:"span",gutterBottom:!0},e.version.map(function(e,t){return r.a.createElement("div",{key:"swversion"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Website")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{component:"span",gutterBottom:!0},e.homepage.map(function(e,t){return r.a.createElement("div",{key:"swhomepage"+t},r.a.createElement("a",{href:e,target:"_new",rel:"noopener noreferrer"},e),r.a.createElement("br",null))})))))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.software,n=t.classes;return r.a.createElement(U.a,{container:!0,className:n.root},r.a.createElement(U.a,{item:!0,xs:12,className:n.content},"Software",r.a.createElement("div",{className:n.paperLayout},a.map(function(t,a){return e.renderSoftware(t,a)}))))}}]),t}(n.Component),qt=Object(Y.withStyles)(function(e){return{root:{flexGrow:1},content:{padding:4*e.spacing.unit,marginTop:4*e.spacing.unit},paperLayout:{padding:2*e.spacing.unit},detailsBox:{textAlign:"left"},detailsBoxHeader:{textAlign:"left",marginRight:2*e.spacing.unit},agentHeader:{padding:e.spacing.unit},nameHeader:{lineHeight:2.3}}})($t),Qt=a(74),Xt=a.n(Qt),Zt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderSoftware",value:function(e,t){var a=this.props.classes;return r.a.createElement("div",{key:"org"+t},r.a.createElement(Bt.a,null,r.a.createElement(Vt.a,{expandIcon:r.a.createElement(Ut.a,null)},r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,className:a.detailsBoxHeader},r.a.createElement(ge.a,{avatar:r.a.createElement(pe.a,null,r.a.createElement(Xt.a,null)),label:e.slug})),r.a.createElement(U.a,{item:!0,className:a.detailsBoxHeader},r.a.createElement(I.a,{className:a.nameHeader},e.name[0])))),r.a.createElement(Lt.a,null,r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"URI")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{gutterBottom:!0},e.uri)),r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Name")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{component:"span",gutterBottom:!0},e.name.map(function(e,t){return r.a.createElement("div",{key:"orgname"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:1,className:a.detailsBox},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Website")),r.a.createElement(U.a,{item:!0,xs:11,className:a.detailsBox},r.a.createElement(I.a,{gutterBottom:!0},r.a.createElement("a",{href:e.homepage,target:"_blank",rel:"noopener noreferrer"},e.homepage)))))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.organizations,n=t.classes;return r.a.createElement(U.a,{container:!0,className:n.root},r.a.createElement(U.a,{item:!0,xs:12,className:n.content},"Organizations",r.a.createElement("div",{className:n.paperLayout},a.map(function(t,a){return e.renderSoftware(t,a)}))))}}]),t}(n.Component),ea=Object(Y.withStyles)(function(e){return{root:{flexGrow:1},content:{padding:4*e.spacing.unit,marginTop:4*e.spacing.unit},paperLayout:{padding:2*e.spacing.unit},detailsBox:{textAlign:"left"},detailsBoxHeader:{textAlign:"left",marginRight:2*e.spacing.unit},agentHeader:{padding:e.spacing.unit},nameHeader:{lineHeight:2.3}}})(Zt),ta={fetchAgents:xt},aa=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAgents()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Jt,{persons:this.props.persons}),r.a.createElement(qt,{software:this.props.software}),r.a.createElement(ea,{organizations:this.props.organizations}))}}]),t}(n.Component),na=Object(p.connect)(function(e){return{persons:e.agents.persons,software:e.agents.software,organizations:e.agents.organizations}},ta)(aa),ra=function(){return{type:"FETCH_PROV_BEGIN"}},oa=function(e){return{type:"FETCH_PROV_SUCCESS",payload:{data:e}}},ia=function(e){return{type:"FETCH_PROV_ERROR",payload:{error:e}}},la=function(){return{type:"ADD_PROV_BEGIN"}},ca=function(e){return{type:"ADD_PROV_SUCCESS",payload:{data:e}}},sa=function(e){return{type:"ADD_PROV_ERROR",payload:{error:e}}},ua=function(){return{type:"REMOVE_PROV_BEGIN"}},ma=function(e){return{type:"REMOVE_PROV_SUCCESS",payload:{data:e}}},pa=function(e){return{type:"REMOVE_PROV_ERROR",payload:{error:e}}};var da=a(56),ha=a(134),Ea=a.n(ha),ga=a(131),va=a.n(ga),fa=a(102),ya=a.n(fa),ba=(a(191),Ea.a[100]),Oa=Ea.a[600],Ca=va.a[600],ja=ya.a[300],ka=function(e){var t=e.location,a=e.activity,n=function(e){return e.split("/").pop()}(t),r=a.split("/");return"<b>"+r[r.length-2]+"</b>\n"+n},Da={physics:{enabled:!1},layout:{improvedLayout:!0,hierarchical:{levelSeparation:120,enabled:!0,nodeSpacing:325,blockShifting:!1,edgeMinimization:!1,sortMethod:"directed"}},edges:{smooth:!0,arrows:{to:!0},color:{color:Oa}},nodes:{shape:"box",shadow:!0,font:{multi:!0}},groups:{source:{font:{color:"white"},color:{background:ja,border:Oa,highlight:{background:Ca,border:"#EF5350"}}},file:{font:{color:"white"},color:{background:Oa,border:ba,highlight:{background:Ca,border:"#EF5350"}}},primarySource:{color:{background:"#ffffff"}}}},Sa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).nodes=new da.DataSet,a.edges=new da.DataSet,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"flatProvData",value:function(e){this.provDict[e.uri]=e;var t=!0,a=!1,n=void 0;try{for(var r,o=e.sources[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;this.flatProvData(i)}}catch(l){a=!0,n=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}}},{key:"iterProvData",value:function(e){console.log(e.location);var t=this.nodes.getIds(),a=e.uri,n=this.props.prov.location,r="source";if(e.location===n&&(r="file"),"active"===e.status){if(t.push(a),this.nodes.update({id:a,label:ka(e),group:r,start:e.ended_at,content:ka(e)}),e.primary_sources){var o=!0,i=!1,l=void 0;try{for(var c,s=e.primary_sources[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;this.nodes.update({id:u.uri,label:"Primary source\n<b>"+u.slug+"</b>",group:"primarySource"}),this.edges.update({from:a,to:u.uri,arrows:"from"})}}catch(S){i=!0,l=S}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}}if(e.sources){var m=!0,p=!1,d=void 0;try{for(var h,E=e.sources[Symbol.iterator]();!(m=(h=E.next()).done);m=!0){var g=h.value,v=g.uri,f=this.props.prov.location,y="source";g.location===f&&(y="file"),t.push(v),this.nodes.update({id:v,label:ka(g),group:y,start:g.ended_at,content:ka(g)}),this.edges.update({from:a,to:v,arrows:"from"})}}catch(S){p=!0,d=S}finally{try{m||null==E.return||E.return()}finally{if(p)throw d}}var b=!0,O=!1,C=void 0;try{for(var j,k=e.sources[Symbol.iterator]();!(b=(j=k.next()).done);b=!0){var D=j.value;this.iterProvData(D)}}catch(S){O=!0,C=S}finally{try{b||null==k.return||k.return()}finally{if(O)throw C}}}}}},{key:"buildEdgeList",value:function(e){this.iterProvData(e)}}]),Object(c.a)(t,[{key:"isProvEvent",value:function(e){var t=!1;return this.nodes.forEach(function(a){a.id===e&&"primarySource"!==a.group&&(t=!0)}),t}},{key:"componentDidMount",value:function(){var e=this;this.network=new da.Network(this.refs.eventNetwork,{nodes:this.nodes,edges:this.edges},Da),this.network.on("click",function(t){var a=e.network.getNodeAt(t.pointer.DOM);e.isProvEvent(a)?e.props.changeProvEvent(a):e.props.changeProvEvent("")})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.prov,a=e.currentProvEvent,n=e.updateNetwork,r=e.rebuildNetwork,o=e.networkUpdated;if(r){var i=this.nodes.getIds(),l=!0,c=!1,s=void 0;try{for(var u,m=i[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value;this.nodes.remove(p)}}catch(b){c=!0,s=b}finally{try{l||null==m.return||m.return()}finally{if(c)throw s}}var d=this.edges.getIds(),h=!0,E=!1,g=void 0;try{for(var v,f=d[Symbol.iterator]();!(h=(v=f.next()).done);h=!0){var y=v.value;this.edges.remove(y)}}catch(b){E=!0,g=b}finally{try{h||null==f.return||f.return()}finally{if(E)throw g}}this.buildEdgeList(t)}0===Object.keys(t).length&&t.constructor===Object||!n||(console.log("add update"),this.buildEdgeList(t),o()),""!==a&&a?this.network.selectNodes([a]):this.network.selectNodes([])}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(J.a,{className:e.networkPaper},r.a.createElement("div",{className:e.networkContainer,ref:"eventNetwork"})))}}]),t}(n.Component),Na=Object(Y.withStyles)(function(e){return{networkContainer:{width:"100%",height:560},eventNetworkContainer:{marginTop:8*e.spacing.unit},eventTimelineContainer:{width:"100%",height:280},networkPaper:{marginRight:30}}})(Sa),wa=(a(427),function(e){return e.split("/").pop()}),_a=function(e){var t=e.activity.split("/");return t[t.length-2]},Pa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).nodes=new da.DataSet,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"iterProvData",value:function(e){var t=this.nodes.getIds(),a=e.uri;if(e.started_at?this.nodes.update({id:a,label:_a(e),group:wa(e.location),start:e.started_at,end:e.ended_at,content:_a(e)}):this.nodes.update({id:a,label:_a(e),group:wa(e.location),start:e.ended_at,content:_a(e)}),t.push(a),e.sources){var n=!0,r=!1,o=void 0;try{for(var i,l=e.sources[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value,s=c.uri;t.push(s),this.nodes.update({id:s,label:_a(c),group:wa(c.location),start:c.ended_at,content:_a(c)})}}catch(g){r=!0,o=g}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}var u=!0,m=!1,p=void 0;try{for(var d,h=e.sources[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var E=d.value;this.iterProvData(E)}}catch(g){m=!0,p=g}finally{try{u||null==h.return||h.return()}finally{if(m)throw p}}}}},{key:"componentDidMount",value:function(){var e=this;this.timeline=new da.Timeline(this.refs.eventTimeline,this.nodes,{verticalScroll:!0,maxHeight:250}),this.timeline.on("click",function(t){var a=t.item;e.props.changeProvEvent(a),e.timeline.on("click",function(t){var a=t.item;e.props.changeProvEvent(a)})})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.prov,a=e.currentProvEvent;console.log("pudate timeline start");var n=this.nodes.getIds(),r=!0,o=!1,i=void 0;try{for(var l,c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var s=l.value;this.nodes.remove(s)}}catch(h){o=!0,i=h}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}if(0!==Object.keys(t).length||t.constructor!==Object)if(console.log("update timeline"),console.log(this.nodes),this.iterProvData(t),0===this.nodes.length);else{var u=this.nodes.map(function(e,t){return e.group}),m=[],p=[];for(var d in u)p.indexOf(u[d])<0&&(m.push({id:u[d],content:u[d]}),p.push(u[d]));this.timeline.setGroups(m),this.timeline.fit()}a?this.timeline.setSelection(a):this.timeline.setSelection("")}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement("div",{className:e.eventTimelineContainer,ref:"eventTimeline"}))}}]),t}(n.Component),Ta=Object(Y.withStyles)(function(e){return{eventTimelineContainer:{width:"100%",height:280}}})(Pa),Ra=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.slug;switch(t){case"Person":return r.a.createElement("div",null,r.a.createElement(ge.a,{onClick:function(){},avatar:r.a.createElement(pe.a,null,r.a.createElement(Mt.a,null)),label:a}));case"Organization":return r.a.createElement("div",null,r.a.createElement(ge.a,{onClick:function(){},avatar:r.a.createElement(pe.a,null,r.a.createElement(Xt.a,null)),label:a}));case"SoftwareAgent":return r.a.createElement("div",null,r.a.createElement(ge.a,{onClick:function(){},avatar:r.a.createElement(pe.a,null,r.a.createElement(Kt.a,null)),label:a}));default:return""}}}]),t}(n.Component),Aa=a(206),xa=a.n(Aa),Ia=function(e){var t=e.person;return r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"URI")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{gutterBottom:!0},t.uri)),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Name")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{component:"span",gutterBottom:!0},t.name.map(function(e,t){return r.a.createElement("div",{key:"pname"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Institution")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{component:"span",gutterBottom:!0},t.institution.map(function(e,t){return r.a.createElement("div",{key:"pinstitution"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Email")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{component:"span",gutterBottom:!0},t.email.map(function(e,t){return r.a.createElement("div",{key:"pemail"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Homepage")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{component:"span",gutterBottom:!0},t.homepage.map(function(e,t){return r.a.createElement("div",{key:"phomepage"+t},r.a.createElement("a",{href:e,target:"_new",rel:"noopener noreferrer"},e),r.a.createElement("br",null))}))))},Ba=Object(Y.withStyles)(function(e){return{}})(function(e){var t=e.org;return r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"URI")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{gutterBottom:!0},t.uri)),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Name")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{component:"span",gutterBottom:!0},t.name.map(function(e,t){return r.a.createElement("div",{key:"orgname"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Website")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{gutterBottom:!0},r.a.createElement("a",{href:t.homepage,target:"_blank",rel:"noopener noreferrer"},t.homepage))))}),Fa=Object(Y.withStyles)(function(e){return{}})(function(e){var t=e.sw;return r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"URI")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{gutterBottom:!0},t.uri)),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Name")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{component:"span",gutterBottom:!0},t.name.map(function(e,t){return r.a.createElement("div",{key:"swname"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Version")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{component:"span",gutterBottom:!0},t.version.map(function(e,t){return r.a.createElement("div",{key:"swversion"+t},e,r.a.createElement("br",null))}))),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},"Website")),r.a.createElement(U.a,{item:!0,xs:10},r.a.createElement(I.a,{component:"span",gutterBottom:!0},t.homepage.map(function(e,t){return r.a.createElement("div",{key:"swhomepage"+t},r.a.createElement("a",{href:e,target:"_new",rel:"noopener noreferrer"},e),r.a.createElement("br",null))})))))}),La=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClose",value:function(){this.props.hideAgentDialog()}},{key:"renderPersonAgentDialog",value:function(){var e=this.props.data;return r.a.createElement("div",null,r.a.createElement(Ia,{person:e}))}},{key:"renderSoftwareAgentDialog",value:function(){var e=this.props.data;return r.a.createElement("div",null,r.a.createElement(Fa,{sw:e}))}},{key:"renderOrgAgentDialog",value:function(){var e=this.props.data;return r.a.createElement("div",null,r.a.createElement(Ba,{org:e}))}},{key:"renderAgentDialog",value:function(){switch(this.props.data.type){case"Person":return this.renderPersonAgentDialog();case"Organization":return this.renderOrgAgentDialog();case"SoftwareAgent":return this.renderSoftwareAgentDialog();default:return""}}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.data;return r.a.createElement("div",null,r.a.createElement(Oe.a,{onClose:function(){return e.handleClose()},open:a},r.a.createElement(Ie.a,null,r.a.createElement(Ra,{type:n.type,slug:n.slug})),r.a.createElement(Ae.a,null,r.a.createElement(xa.a,{component:"span"},this.renderAgentDialog())),r.a.createElement(Ne.a,null,r.a.createElement(M.a,{onClick:function(){e.handleClose()},color:"primary",autoFocus:!0},"Close"))))}}]),t}(n.Component),Ha=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleAgentIconClick=function(e){a.props.setCurrentAgent(e)},a.eventData={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getEventData",value:function(e){var t=this.props.currentProvEvent;if(e.uri===t)this.eventData=e;else if(e.sources){var a=!0,n=!1,r=void 0;try{for(var o,i=e.sources[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;this.getEventData(l)}}catch(c){n=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"renderAgent",value:function(e){var t=this,a=this.props,n=a.agents,o=a.classes;return e in n?r.a.createElement("div",{className:o.agentIcon,key:"agenticon"+e,onClick:function(){t.handleAgentIconClick(e)}},r.a.createElement(Ra,{type:n[e].type,slug:e})):r.a.createElement("div",{key:"displayagent-"+e},e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.prov,o=t.currentProvEvent,i=t.currentAgent,l=t.agents[i],c=[];o?(this.getEventData(n),c=this.eventData.agent.map(function(e){return e.split("/")[e.split("/").length-1]})):this.eventData={};var s=this.eventData.ended_at;return this.eventData.started_at&&(s=this.eventData.started_at+" - "+this.eventData.ended_at),r.a.createElement("div",null,r.a.createElement(J.a,{className:a.alignLeft},r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},r.a.createElement("b",null,"Event URI")),r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},this.eventData.uri),r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},r.a.createElement("b",null,"Timestamp")),r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},s),r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},r.a.createElement("b",null,"Description")),r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},this.eventData.activity_desc),r.a.createElement(I.a,{variant:"caption",gutterBottom:!0,className:"break"},r.a.createElement("b",null,"File location")),r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},this.eventData.location),r.a.createElement(I.a,{variant:"caption",gutterBottom:!0},r.a.createElement("b",null,"Agents")),r.a.createElement("div",null,r.a.createElement("div",{className:"agentIconList"},c.map(function(t){return e.renderAgent(t)}))),r.a.createElement("div",{className:"break"}),i?r.a.createElement(La,{open:this.props.showAgentDialog,hideAgentDialog:this.props.hideAgentDialog,data:l}):""))}}]),t}(n.Component),Va=Object(Y.withStyles)(function(e){return{alignLeft:{textAlign:"left",padding:2*e.spacing.unit},agentIcon:{paddingRight:e.spacing.unit}}})(Ha),Ga=a(207),Ua=a.n(Ga),za=a(105),Ma=a.n(za),Wa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={modelValue:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=this.props,a=t.model,n=t.dispatch,r=e.target.value;this.setState({modelValue:r}),n(S.actions.change(a,r))}},{key:"getAgentsByType",value:function(e){for(var t=this.props.agents,a=[],n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];t[o].type===e&&a.push(o)}return a}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.agents;return r.a.createElement(V.a,{select:!0,margin:"normal",value:this.state.modelValue,className:a.textField,SelectProps:{MenuProps:{className:a.menuItem}},onChange:function(t){return e.handleChange(t)}},n.persons.map(function(e,t){return r.a.createElement(Ma.a,{key:e.slug,value:e.slug,className:a.menuItem},r.a.createElement(ve,{avatar:r.a.createElement(pe.a,null,r.a.createElement(Mt.a,null)),label:e.slug}))}),n.software.map(function(e,t){return r.a.createElement(Ma.a,{key:e.slug,value:e.slug,className:a.menuItem},r.a.createElement(ve,{avatar:r.a.createElement(pe.a,null,r.a.createElement(Kt.a,null)),label:e.slug}))}),n.organizations.map(function(e,t){return r.a.createElement(Ma.a,{key:e.slug,value:e.slug,className:a.menuItem},r.a.createElement(ve,{avatar:r.a.createElement(pe.a,null,r.a.createElement(Xt.a,null)),label:e.slug}))}))}}]),t}(n.Component),Ja=Object(Y.withStyles)(function(e){return{textField:{width:"100%"},menuItem:{width:"100%",padding:e.spacing.unit}}})(Wa),Ya=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isTimestamp:!0,timeValue:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=(new Date).toISOString();this.setState({isTimestamp:!0,timeValue:e.substring(0,e.length-2)})}},{key:"handleSubmit",value:function(e){var t=this.props,a=t.handleSubmit,n=t.filepath,r=t.dispatch;console.log(e),console.log(this.state.isTimestamp),a(n,e,this.state.isTimestamp),r(S.actions.reset("addProvEvent"))}},{key:"handleClose",value:function(){var e=this.props,t=e.toggle;(0,e.dispatch)(S.actions.reset("addProvEvent")),t()}},{key:"toggleTimespan",value:function(){var e=(new Date).toISOString();this.setState({isTimestamp:!this.state.isTimestamp,timeValue:e.substring(0,e.length-2)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,o=t.dispatch,i=t.addProvEvent,l=t.filepath,c=t.agents;return r.a.createElement(Oe.a,{open:a,scroll:"paper",onClose:function(){return e.handleClose()},maxWidth:"md"},r.a.createElement(S.Form,{model:"addProvEvent",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(Ae.a,null,r.a.createElement(U.a,{container:!0,className:n.formGrid},r.a.createElement(U.a,{item:!0,xs:12,className:n.formItem},r.a.createElement(S.Control,{className:n.inputField,component:V.a,model:"addProvEvent.activitySlug",id:"addProvEvent.activitySlug",label:"Activity slug"})),r.a.createElement(U.a,{item:!0,xs:12,className:n.formItem},r.a.createElement(S.Control,{className:n.inputField,component:V.a,model:"addProvEvent.comment",id:"addProvEvent.comment",label:"Comment",multiline:!0,rowsMax:"4",variant:"outlined"})),r.a.createElement(U.a,{item:!0,xs:12,className:n.formItem},r.a.createElement(Ua.a,{value:"isTimestamp",checked:!this.state.isTimestamp,onClick:function(){return e.toggleTimespan()}}),this.state.isTimestamp?"Timestamp":"Timespan"),r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:5,className:n.formItem},r.a.createElement(S.Control,{component:V.a,type:"datetime-local",model:"addProvEvent.startedAt",id:"addProvEvent.startedAt",label:this.state.isTimestamp?"Timestamp":"Started at",defaultValue:this.state.timeValue})),this.state.isTimestamp?"":r.a.createElement(U.a,{item:!0,xs:5,className:n.formItem},r.a.createElement(S.Control,{component:V.a,type:"datetime-local",model:"addProvEvent.endedAt",id:"addProvEvent.endedAt",label:"Ended at",defaultValue:this.state.timeValue}))),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(M.a,{color:"primary","aria-label":"Add",size:"small",onClick:function(){return o(S.actions.push("addProvEvent.agents",""))}},r.a.createElement(De.a,null),"Agent")),r.a.createElement("td",{className:n.inputField},i.agents.map(function(e,t){return r.a.createElement(U.a,{container:!0,key:"provagent"+t},r.a.createElement(U.a,{item:!0,xs:12,className:n.formItem},r.a.createElement(Ja,{agents:c,model:"addProvEvent.agents[".concat(t,"]"),dispatch:o})))}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(M.a,{color:"primary","aria-label":"Add",size:"small",onClick:function(){return o(S.actions.push("addProvEvent.sources",""))}},r.a.createElement(De.a,null),"Source")),r.a.createElement("td",{className:n.agentColumn},i.sources.map(function(e,t){return r.a.createElement(U.a,{container:!0,key:"provsource"+t},r.a.createElement(U.a,{item:!0,xs:12,className:n.formItem},r.a.createElement(Ye,{withFiles:!0,helptext:"Select file",model:"addProvEvent.sources[".concat(t,"]"),directory:Te.a.dirname(l),dispatch:o})))}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(M.a,{color:"primary","aria-label":"Add",size:"small",onClick:function(){return o(S.actions.push("addProvEvent.primarySources",""))}},r.a.createElement(De.a,null),"Primary Source")),r.a.createElement("td",{className:n.agentColumn},i.primarySources.map(function(e,t){return r.a.createElement(U.a,{container:!0,key:"provsource"+t},r.a.createElement(U.a,{item:!0,xs:12,className:n.formItem},r.a.createElement(Ja,{agents:c,model:"addProvEvent.primarySources[".concat(t,"]"),dispatch:o})))}))))))),r.a.createElement(Ne.a,{className:n.formDialog},r.a.createElement(M.a,{type:"submit",color:"primary",variant:"contained"},"Add Provenance Information"))))}}]),t}(n.Component),Ka=Object(Y.withStyles)(function(e){return{formDialog:{padding:2*e.spacing.unit},formGrid:{padding:2*e.spacing.unit},formItem:{padding:e.spacing.unit},inputField:{width:"100%"},agentColumn:{width:"66%"},buttonColumn:{width:"33%"}}})(Ya),$a=Object(p.connect)(function(e){return{addProvEvent:e.addProvEvent}})(Ka),qa=a(208),Qa=a.n(qa),Xa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClickOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleDelete",value:function(){var e=this.props;(0,e.removeProv)(e.currentFile),this.handleClose()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("span",null,r.a.createElement(ge.a,{size:"small",className:t.removeProv,onClick:function(){return e.handleClickOpen()},color:"secondary",avatar:r.a.createElement(pe.a,null,r.a.createElement(Qa.a,null)),label:"Delete Event"}),r.a.createElement(Oe.a,{open:this.state.open,onClose:function(){return e.handleClose()}},r.a.createElement(Ae.a,null,"Do you really want to delete the last provenance event?"),r.a.createElement(Ne.a,null,r.a.createElement(M.a,{color:"primary",variant:"contained",onClick:function(){return e.handleDelete()}},"Delete"),r.a.createElement(M.a,{color:"secondary",variant:"contained",onClick:function(){return e.handleClose()}},"Cancel"))))}}]),t}(n.Component),Za=Object(Y.withStyles)(function(e){return{removeProv:{marginLeft:2*e.spacing.unit}}})(Xa),en={changeCurrentFile:function(e){return{type:"CHANGE_CURRENT_FILE",payload:{currentFile:e}}},fetchProv:function(e){return function(t){return console.log("fetch prov information"),t(ra()),fetch("http://localhost:5555/file",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({filepath:e})}).then(function(e){return e.json()}).then(function(e){return console.log(e),t(oa(e)),e.prov}).catch(function(e){return t(ia(e))})}},addProv:function(e,t,a){return function(n){return console.log("add prov information"),console.log(a),n(la()),fetch("http://localhost:5555/file/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({filepath:e,prov:t,isTimestamp:a})}).then(function(e){return e.json()}).then(function(e){return console.log(e),n(ca(e)),e.prov}).catch(function(e){return n(sa(e))})}},removeProv:function(e){return function(t){return console.log("remove prov information"),t(ua()),fetch("http://localhost:5555/file/remove",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({filepath:e})}).then(function(e){return e.json()}).then(function(e){return console.log(e),t(ma(e)),e.prov}).catch(function(e){return t(pa(e))})}},changeProvEvent:function(e){return{type:"CHANGE_PROV_EVENT",payload:{currentProvEvent:e}}},networkUpdated:function(){return{type:"NETWORK_UPDATED"}},setCurrentAgent:function(e){return{type:"SET_CURRENT_AGENT",payload:{currentAgent:e}}},hideAgentDialog:function(e){return{type:"HIDE_AGENT_DIALOG"}},toggleAddProvForm:function(){return{type:"TOGGLE_ADD_PROV_FORM"}},fetchAgents:xt,resetFileState:function(){return{type:"RESET_FILE_STATE"}}},tn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.search.substr(1);e!==this.props.currentFile&&(this.props.fetchProv(e),this.props.changeCurrentFile(e)),console.log(this.props),0===this.props.allAgents.persons.length&&this.props.fetchAgents()}},{key:"componentDidUpdate",value:function(){var e=this.props.location.search.substr(1);e!==this.props.currentFile&&this.props.changeCurrentFile(e)}},{key:"componentWillUnmount",value:function(){this.props.resetFileState()}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.classes,o=a.currentFile,i=a.showAddProvForm,l=a.toggleAddProvForm,c=a.allAgents,s=a.addProv;return o&&(e=function(e){var t=e.split("/"),a=t[t.length-1];return[e.replace(a,""),a]}(o)),r.a.createElement("div",{className:n.fileViewContainer},r.a.createElement($a,{open:i,handleSubmit:s,toggle:l,agents:c,filepath:o}),r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{container:!0,className:n.breadcrumbs},r.a.createElement(U.a,{item:!0,xs:8},o?r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,className:n.directory},r.a.createElement(ge.a,{onClick:function(){t.props.history.push({pathname:"/directory/",search:e[0]})},label:e[0]})),r.a.createElement(U.a,{item:!0},r.a.createElement(I.a,{variant:"subtitle1",gutterBottom:!0,className:n.filename},e[1]))):""),r.a.createElement(U.a,{item:!0,xs:4,className:n.provButtons},r.a.createElement(ge.a,{size:"small",className:n.addProv,onClick:function(){t.props.toggleAddProvForm()},color:"primary",avatar:r.a.createElement(pe.a,null,r.a.createElement(De.a,null)),label:"Add Event"}),r.a.createElement(Za,{currentFile:o,removeProv:this.props.removeProv}))),r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(Ta,{prov:this.props.prov?this.props.prov:{},changeProvEvent:this.props.changeProvEvent,currentProvEvent:this.props.currentProvEvent,rebuildNetwork:this.props.rebuildNetwork})),r.a.createElement(U.a,{item:!0,xs:8},r.a.createElement(Na,{prov:this.props.prov?this.props.prov:{},changeProvEvent:this.props.changeProvEvent,currentProvEvent:this.props.currentProvEvent,updateNetwork:this.props.updateNetwork,rebuildNetwork:this.props.rebuildNetwork,networkUpdated:this.props.networkUpdated})),r.a.createElement(U.a,{item:!0,xs:4},this.props.currentProvEvent?r.a.createElement(Va,{prov:this.props.prov?this.props.prov:{},agents:this.props.agents,currentProvEvent:this.props.currentProvEvent,currentAgent:this.props.currentAgent,rebuildNetwork:this.props.rebuildNetwork,showAgentDialog:this.props.showAgentDialog,hideAgentDialog:this.props.hideAgentDialog,setCurrentAgent:this.props.setCurrentAgent}):""))))}}]),t}(n.Component),an=Object(Y.withStyles)(function(e){return{fileViewContainer:{marginTop:30},breadcrumbs:{marginBottom:2*e.spacing.unit,textAlign:"left"},directory:{paddingRight:2*e.spacing.unit},filename:{lineHeight:2,vertialAlign:"middle"},addProv:{marginLeft:20},provButtons:{marginBottom:e.spacing.unit,textAlign:"right"}}})(tn),nn=Object(p.connect)(function(e){return{hasProv:e.file.hasProv,prov:e.file.prov,currentFile:e.file.currentFile,agents:e.file.agents,allAgents:e.agents,currentProvEvent:e.file.currentProvEvent,updateNetwork:e.file.updateNetwork,rebuildNetwork:e.file.rebuildNetwork,currentAgent:e.file.currentAgent,showAgentDialog:e.file.showAgentDialog,showAddProvForm:e.file.showAddProvForm}},en)(an),rn=a(444),on=a(209),ln=a.n(on),cn=a(210),sn=a.n(cn),un=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(ln.a,null,r.a.createElement(sn.a,null,r.a.createElement(I.a,{color:"inherit",component:"h3",variant:"display1",className:this.props.classes.title},"provit"),r.a.createElement(M.a,{color:"inherit",onClick:function(){e.props.history.push("/")}},"Files"),r.a.createElement(M.a,{color:"inherit",onClick:function(){e.props.history.push("/agents/")}},"Agents"),r.a.createElement(M.a,{color:"inherit",onClick:function(){e.props.history.push("/config/")}},"Config")))}}]),t}(n.Component),mn=Object(Y.withStyles)(function(e){return{title:{marginRight:2*e.spacing.unit}}})(un),pn=Object(rn.a)(mn),dn=a(213),hn=a.n(dn),En=a(130),gn=a.n(En),vn=Object(Y.createMuiTheme)({palette:{primary:ya.a,secondary:gn.a}}),fn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.Provider,{store:P},r.a.createElement(hn.a,null),r.a.createElement(Y.MuiThemeProvider,{theme:vn},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(I.a,{component:"h2",variant:"display1"},"provit")),r.a.createElement(T.a,null,r.a.createElement("div",null,r.a.createElement(pn,null),r.a.createElement(R.a,null,r.a.createElement(A.a,{exact:!0,path:"/",component:Ze}),r.a.createElement(A.a,{path:"/config",component:Q}),r.a.createElement(A.a,{path:"/directory",component:Pt}),r.a.createElement(A.a,{path:"/agents",component:na}),r.a.createElement(A.a,{path:"/file",component:nn})))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(fn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[215,2,1]]]);
//# sourceMappingURL=main.1c0e4b02.chunk.js.map